(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(40)},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(11),o=n.n(c),u=n(4),s=n(24),i=n(2),l=n(7),d=n(23),p="asc",b="desc",f=function(e){return{type:"SORT_BY",field:e}},m=function(e){return e.getIsLoading},O=function(e){return e.errorMessage},j=function(e){return e.todos},E=function(e){return e.order},_=function(e){return e.sortBy},T={getIsLoading:!1,errorMessage:"",sortBy:"title",order:p,todos:[]},y=Object(l.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,hasError:""});case"SET_TODOS":return Object(i.a)(Object(i.a)({},e),{},{todos:t.todos,loading:!1});case"HANDLE_ERROR":return Object(i.a)(Object(i.a)({},e),{},{errorMessage:t.errorMessage,isLoading:!1});case"FINISH_LOADING":return Object(i.a)(Object(i.a)({},e),{},{loading:!1});case"DELETE_TODO":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});case"SORT_BY":return e.sortBy===t.field?Object(i.a)(Object(i.a)({},e),{},{order:e.order===p?b:p}):Object(i.a)(Object(i.a)({},e),{},{order:p,sortBy:t.field});case"SET_STATUS":return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.id?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}))});default:return e}}),Object(d.composeWithDevTools)()),h=n(25),g=(n(35),n(10)),v=n.n(g),N=n(17),S="https://mate-academy.github.io/react_dynamic-list-of-todos/api",D=function(){var e=Object(N.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/todos.json"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(N.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/users.json"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=n(14),I=(n(37),n(38),function(e){var t=e.todo,n=t.id,r=t.title,c=t.completed,o=t.user,s=Object(u.b)();return a.a.createElement("li",null,a.a.createElement("article",{className:"app__todo"},a.a.createElement("div",null,"TODO: ".concat(r)),a.a.createElement("div",null,"STATUS:"," ",c?"completed":"in progress",a.a.createElement("input",{checked:c,type:"checkbox",onChange:function(){return s(function(e){return{type:"SET_STATUS",id:e}}(n))}})),a.a.createElement("div",null,"RESPONSIBLE:"," ",o.name),a.a.createElement("button",{type:"button",className:"app__todo-detete",onClick:function(){return s(function(e){return{type:"DELETE_TODO",id:e}}(n))}},"Delete")))}),k="title",R="completed",w="userName",x="asc",B=function(e){var t=e.todos,n=Object(u.b)(),c=Object(u.c)(E),o=Object(u.c)(_),s=Object(r.useMemo)((function(){var e=c===x?1:-1;switch(o){case k:return Object(L.a)(t).sort((function(t,n){return t.title.localeCompare(n.title)*e}));case R:return Object(L.a)(t).sort((function(t,n){return(Number(n.completed)-Number(t.completed))*e}));case w:return Object(L.a)(t).sort((function(t,n){return t.user.name.localeCompare(n.user.name)*e}));default:return t}}),[o,t,c]);return a.a.createElement("div",null,a.a.createElement("div",{className:"app__list-filters"},a.a.createElement("button",{type:"button",className:"button__inner",onClick:function(){return n(f(k))}},"Title",o===k&&(c===x?" (asc)":" (desc)")),a.a.createElement("button",{type:"button",className:"button__inner",onClick:function(){return n(f(R))}},"Status",o===R&&(c===x?" (asc)":" (desc)")),a.a.createElement("button",{type:"button",className:"button__inner",onClick:function(){return n(f(w))}},"User name",o===w&&(c===x?" (asc)":" (desc)"))),a.a.createElement("ul",{className:"app__list"},s.map((function(e){return a.a.createElement(I,{key:e.id,todo:e})}))))},C=function(){var e=Object(u.b)(),t=Object(u.c)(m),n=Object(u.c)(O),r=Object(u.c)(j);return a.a.createElement("div",{className:"app"},0===r.length&&a.a.createElement("button",{type:"button",className:"app__load-button",onClick:function(){e({type:"START_LOADING"}),Promise.all([D(),A()]).then((function(t){var n=Object(h.a)(t,2),r=n[0],a=n[1],c=r.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{user:a.find((function(t){return t.id===e.userId}))})}));e(function(e){return{type:"SET_TODOS",todos:e}}(c))})).catch((function(t){e(function(e){return{type:"HANDLE_ERROR",errorMessage:e}}(t.message||t))})).finally((function(){e({type:"FINISH_LOADING"})}))}},t?"Loading...":"LOAD DATA"),n&&a.a.createElement("div",{className:"app__error"},"Error: ".concat(n)),0!==r.length&&a.a.createElement(B,{todos:r}))},M=function(){return a.a.createElement(u.a,{store:y},a.a.createElement(s.a,null,a.a.createElement(C,null)))};o.a.render(a.a.createElement(M,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.57b4db27.chunk.js.map